<%- include("../views/partials/header.ejs") %>
<link rel="stylesheet" href="../public/css/dashboard.css">
<title>Dashboard</title>
</head>

<body>



    <div class="main-container">
       
      <div class="side-bar" >
        <div class="navbar" id="sidenav-collapse-main">
          <ul class="navbar-nav">
            <li class="nav-item-logo">
              <a class="nav-link " href="/userDashboard">
                <img src="../public/images/logo-whitebg.png" width="185"  >
                
              </a>
              
            
          </li>
          <br>
            </li>
            <li class="nav-item active-nav-item">
              <a class="nav-link " href="/businessDashboard">
                
                <span class="">My Business</span>
              </a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link  " href="/businessDashboard/profile">
                
                <span class="">Profile</span>
              </a>
            </li>
                        
          </ul>
          </div>
    </div>
    <div class="secondary-container">
        <div class="top-bar">
          <div class="top-bar-right">
            <button class="button-signOut" type="submit"><a href="/sign-out">Log out</a></button>
            <p class="text-username"><%username%></p>
          </div>
          <div class="top-bar-left">
            <h3>My Business</h3>
          </div>
        </div>
        
        
  
   
    <div class="table-area">
               
      <div class="table-container">
          <div class="table-card-header">
              <h3 class="">My Queues</h3>
            
          </div>
          <div class="card-body px-0 pb-2">
              <table class="table">
                <thead class="table-header">
                  <tr>
                    <th class="table-header-column">Queue name</th>
                    <th class="table-header-column" style="text-align: center;">Queue Type</th>
                    <th class="table-header-column" style="text-align: center;">Max Token</th>
                    <th class="table-header-column" style="text-align: center;">Remaining Tokens</th>
                    <th class="table-header-column" style="text-align: center;">Queue</th>
                  </tr>
                </thead>
             
                <tbody>
                  <%if(queueData==null){%>
                    
                    <tr class="row">
                     
                        <td><p>No active business queues</p></td>
                    </tr>
                
                  <%}else{%>
                  <% for(var i=0; i<queueData.length; i++) {%>
                    
                    <form id ="rowForm"action="/businessDashboard/queueDelete" method="post">
                    <input type="hidden" name="q_id"value="<%=queueData[i].q_Id%>">

                  </form>
                    <tr class="row">
                      <td>
                        <p><%=queueData[i].qName%></p>
                      </p>
                      <td class="comp">
                        <p><%=queueData[i].qType%></p>
                      </td>
                      <td class="comp">
                        <p ><%=queueData[i].maxToken%></p>
                      </td>
                      <td class="comp">
                        <p><%=queueData[i].tokenRemain%></p>
                      </td>
                      <td class="comp">
                        <p><%=queueData[i].queueStatus%></p>
                      </td>
                    
                  <td class="align-middle">
                      <div class ="middle">                      
                        <button id="btn-queue-delete"class="dlt"> Delete </button>
                      </div>
                    
                  </td>
                </tr>

               <% }}%>

                </tbody>
            
              </table>
              
          </div>
            <div class="btnflex">
                
              <form action="" method="post">
                <div>
                    <button class="button-open" type="submit"><a href="/businessDashboard/OpenQueue">Open</a></button>
                </div>
              </form>

              <form action="" method="post">
                <div>
                  <button class="button-create1" type="submit"><a href="/businessDashboard/createQueue">Create</a></button>
                </div>
                            </div>
              </form>

            </div>
          </div>
        </div>
        

        
    </div>
    
    <script src="../public/js/businessDashboard.js"></script>


   

</body>

</html>