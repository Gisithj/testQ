<%- include("../views/partials/header.ejs") %>


  <link rel="stylesheet" href="/public/css/dashboard.css">
  <title>Dashboard</title>
  </head>

  <body>

    <div class="main-container">

      <div class="side-bar">
        <div class="navbar  w-auto  max-height-vh-100" id="sidenav-collapse-main">
          <ul class="navbar-nav">
            <li class="nav-item-logo">
              <a class="nav-link " href="/userDashboard">
                <img src="/public/images/logo-white.png" width="185">

              </a>


            </li>
            <br>
            <li class="nav-item active-nav-item">
              <a class="nav-link " href="/userDashboard">

                <span class=""><i class="fas fa-light fa-bars sidebar-icon"></i>My Queues</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="/userDashboard/findQueues">

                <span class=""><i class="fas fa-regular fa-magnifying-glass sidebar-icon"></i>Find Queues</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link  " href="/userDashboard/profile">

                <span class=""><i class="fas fa-thin fa-user sidebar-icon"></i>Profile</span>
              </a>
            </li>

          </ul>
        </div>
      </div>
      <div class="secondary-container">
        <!-- <div class="top-bar">
          <a href="/sign-out"><button class="button-signOut" type="submit">Log out</button></a>
          <p class="text-username">gg</p>
        </div> -->
        <div class="top-bar">

          <div class="top-bar-right">
            <a href="/sign-out"><button class="button-signOut" type="submit">Log out</button></a>
            <p class="text-username">
              <%=username %>
            </p>
          </div>
          <div class="top-bar-left">
            <h4>Gisith Boss</h4>
          </div>


        </div>

        <div class="table-area">

          <div class="table-container">
            <div class="table-card-header">
              <h3 class="">Entrolled Queues</h3>

            </div>
            <div class="card-body px-0 pb-2">
              <table class="table">
                <thead class="table-header">
                  <tr class="row">
                    <th class="table-header-column">Queue name</th>
                    <th class="table-header-column" style="text-align: center;">Queue Type</th>
                    <th class="table-header-column" style="text-align: center;">Max Token</th>
                    <th class="table-header-column" style="text-align: center;">Your Token</th>
                    <th class="table-header-column" style="text-align: center;">Remaining Tokens</th>
                    <th class="table-header-column" style="text-align: center;">Queue Status</th>
                  </tr>
                </thead>
               
                  <tbody>
                    <%if(queueData==null){%>
                      <tr class="row">
                        <td>
                          <p>No active Tokens</p>
                        </td>
                      </tr>
                      <%}else{%>
                        <% for(var i=0; i<queueData.length; i++) {%>
                          
                            <tr class="row">
                              <td class="none">
                                <p>
                                  <%= queueData[i].qName%>
                                </p>
                              </td>
                              <td>
                                <p>
                                  <%= queueData[i].qType%>
                                </p>
                              </td>
                              <td class="comp">
                                <p>
                                  <%= queueData[i].maxToken%>
                                </p>
                              </td>
                              <td class="comp">
                                <p>
                                  <%= queueData[i].token_Id%>
                                </p>
                              </td>
                              <td class="comp">
                                <p>
                                  <%= queueData[i].tokenRemain%>
                                </p>
                              </td>
                              <td class="comp">
                                <p>
                                  <%= queueData[i].qStatus%>
                                </p>
                              </td>
                              <td class="align-middle">
                                <div class ="middle">  
                                                               
                                <button id="btn-queue-delete" class="dlt" value="<%=queueData[i].q_Id%>"><i class="fas fa-light fa-trash delete-icon"></i> </button> 
                              </div>
                                
                            </td>
                            </tr>
                            <% }}%>
                  </tbody>
                
              </table>
            </div>

          </div>
        </div>

      </div>
    </div>
    <script src="../public/js/userDashboard.js"></script>

  </body>

  </html>